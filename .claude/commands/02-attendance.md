## 2. 근태관리 페이지

### 개요

출퇴근 및 휴가 관리, Discord 알림 연동

### 기능 요구사항

| 기능           | 설명                                  | 우선순위 |
| -------------- | ------------------------------------- | -------- |
| 출근 체크      | 출근 버튼 클릭으로 출근 기록          | P0       |
| 퇴근 체크      | 퇴근 버튼 클릭으로 퇴근 기록          | P0       |
| 휴가 신청      | 휴가 종류 선택 및 날짜 지정           | P0       |
| 근무 기록 조회 | 지금까지의 근무 기록 리스트           | P0       |
| Discord 알림   | 출퇴근/휴가 시 Discord 채널 자동 전송 | P1       |

### 화면 구성

```plaintext

+--------------------------------------------------------------------------------+
|  근무 기록                                                                      |
|  출퇴근 기록과 휴가를 관리합니다                                                  |
+--------------------------------------------------------------------------------+
|                                                                                |
|  +------------------------------------------------------+  +----------------+  |
|  |  < 2025년 12월 >                ● 근무  ● 휴가  ● 휴게    |  |   출근하기      |  |
|  |                                                      |  |     오늘 8h    |  |
|  |  12-04  ░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░  🏠  8h  [완료]    |  |                |  |
|  |  수요일                                                |  |  오전(8-11)    |  |
|  |                                                      |  |  오후(12-17)   |  |
|  |  12-05  ░░░░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░░░  🏢  8h  [완료]    |  |                |  |
|  |  목요일                                                |  | +------------+ |  |
|  |                                                      |  | | 재택    ▼ | |  |
|  |  이번 달 근무  96h / 176h    초과 근무 +2h                |  | +------------+ |  |
|  |                                    전체 내역 >         |   | +------------+ |  |
|  +------------------------------------------------------+  | | 사무실   ▼ | |  |
|                                                            | +------------+ |  |
|  +------------------------------------------------------+  |                |  |
|  |  휴가 현황                              + 휴가 신청    |  |  6  9  12 15 18 21|
|  |                                                      |  |  |--|==🍽️==|--|  |  |
|  |  +------------+ +------------+ +------------+        |  |     [드래그]     |  |
|  |  | 🌴 유급휴가   | | 📁 무급휴가  | | 🎉 창립일    |        |  |                |  |
|  |  |    17/20일  | |    40/40일 | |     1/1일   |        |  |  기간 설정 ∨    |  |
|  |  +------------+ +------------+ +------------+        |  |                |  |
|  |                                                      |  | [  등록하기  ]📤 |  |
|  |  +------------+ +------------+ +------------+        |  +----------------+  |
|  |  | 🎂 생일반차  | | 💒 결혼본인   | | 💐 결혼자녀   |        |                    |
|  |  |   0.5/0.5일| | 신청가능(5일) | | 신청가능(1일) |        |                    |
|  |  +------------+ +------------+ +------------+        |                    |
|  |                                                      |                    |
|  |  +------------+ +------------+ +------------+        |                    |
|  |  | 🕯️ 조의     | | 🕯️ 조의     |  | 👶 육아휴직   |        |                    |
|  |  | 배우자/부모   | | 조부모/형제   | | 신청가능      |        |                    |
|  |  | 신청가능(5일) | | 신청가능(3일) | |    (3개월)  |        |                    |
|  |  +------------+ +------------+ +------------+        |                    |
|  +------------------------------------------------------+                    |
+--------------------------------------------------------------------------------+


```

#### 근무 기록

- 리스트 뷰로 이전 출퇴근 기록과 휴가 현황 표시
- 이번달 근무 시간 내역과 초과 근무 시간(+, -) 요약

#### 출근하기

- 오전, 오후 드롭다운을 통해 근무 여부와 함께 장소를 선택합니다. 휴가를 선택하면 해당 시간은 근무를 하지 않습니다. 장소를 선택하면 근무로 간주됩니다.
- 하단에는 6-22시까지 시간 블록이 있어 드래그로 근무 시간을 시각적으로 설정할 수 있습니다.
  - 기본적으로 오전근무: 9-12, 점심시간: 12-13, 오후근무: 13-18로 설정됩니다.
  - 점심시간은 근무 시간에서 제외됩니다.
  - 점심시간을 클릭하여 활성화 한 후 드래그하여 휴게 시간을 서정할 수 있습니다.
  - 양쪽의 범위를 클릭하여 근무 시작/종료 시간을 세밀하게 조정할 수 있습니다.
- 기간 설정 버튼을 통하여 특정 기간 동안 근무 시간을 동일하게 예약할 수 있습니다.
  - 기간이 설정되어 있을 때 수정하기를 누르면 일괄 적용, 오늘만 적용, 날짜 변경을 할 수 있습니다.

#### 휴가 현황

- 유급휴가, 무급휴가, 창립일, 생일반차, 결혼본인, 결혼자녀, 조의, 육아휴직 등 휴가 종류별 남은 일수 표시
- 해당하는 휴가를 크릭하면 휴가 신청 폼이 나타납니다.
- 휴가 신청은 오전 휴가(9-12) , 오후 휴가(13-18), 종일 휴가(9-18), 시간 지정으로 구분되며, 근무로 변경하기 위해서는 휴가를 취소해야 합니다.

### 데이터 모델

```typescript
// 근태 기록
Attendance {
  id: string
  userId: string
  date: date
  sessions: AttendanceSession[]  // 오전/오후 분리
  totalHours: number
  status: "IN_PROGRESS" | "COMPLETED"
}

// 근무 세션 (오전/오후)
AttendanceSession {
  id: string
  attendanceId: string
  type: "MORNING" | "AFTERNOON"
  location: "REMOTE" | "OFFICE"
  startTime: time
  endTime: time
  lunchBreak: boolean
}

// 휴가
Vacation {
  id: string
  userId: string
  type: VacationType
  startDate: date
  endDate: date
  days: number
  status: "PENDING" | "APPROVED" | "REJECTED"
}

// 휴가 종류
VacationType =
  | "PAID"           // 유급 휴가
  | "UNPAID"         // 무급 휴가
  | "FOUNDATION"     // 창립일 휴가
  | "BIRTHDAY"       // 생일 반차
  | "MARRIAGE_SELF"  // 결혼 (본인)
  | "MARRIAGE_CHILD" // 결혼 (자녀)
  | "BEREAVEMENT_1"  // 조의 (배우자/부모/자녀)
  | "BEREAVEMENT_2"  // 조의 (조부모/형제자매)
  | "PARENTAL"       // 육아휴직

// 휴가 잔여 현황
VacationBalance {
  userId: string
  type: VacationType
  total: number      // 총 일수
  used: number       // 사용 일수
  remaining: number  // 잔여 일수
}
```

### API 엔드포인트

```
# 근태 관리
POST   /api/attendance              - 출근 등록
PUT    /api/attendance/:id          - 근태 수정
GET    /api/attendance/monthly      - 월별 근태 기록 조회
       ?year={year}&month={month}
GET    /api/attendance/stats        - 월간 통계 (근무시간, 초과근무)
POST   /api/attendance/send-discord - Discord로 출근 알림

# 휴가 관리
GET    /api/vacation/balance        - 휴가 잔여 현황
POST   /api/vacation                - 휴가 신청
GET    /api/vacation/history        - 휴가 사용 내역
DELETE /api/vacation/:id            - 휴가 신청 취소
```
